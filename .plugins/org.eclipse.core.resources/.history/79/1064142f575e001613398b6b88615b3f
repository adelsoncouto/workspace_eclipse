app.controller("habilidadeColaboradorController", [ "$filter", "$scope",
	"$cookies", "api", function($filter, $scope, $cookies, api) {
	    $scope.usuario = $cookies.getObject('usuario');

	    $scope.habilidade = new habilidadeColaboradorController_habilidade(api);
	    // gerencia a tela a ser exibida
	    $scope.tela = new Tela($scope);
	    $scope.tela.ativar('tabela');

	} ]);


function habilidadeColaboradorController_habilidade(aApi, aId, aColaboradorId, aHabilidadeId, aObservacao){
	var _this = this;
	this.lista = [];
	this.id = "";
	this.colaboradorId = "";
	this.habilidadeId = "";
	this.observacao = "";
	
	this.listaHabilidade = [];

	this.listarHabilidar = function(){
	    aApi.enviarApi("Habilidade.listarOpcao",1,"")
		.success(function(aResp){
			if(aResp.error){
				alertaAtencao(aResp.error.message);
				return;
			}
			
		})
		.error(function(aResp){
			alertaAtencao(aResp);
		})
	}
	
	this.salvar = function(){
		//TODO: Informe a api que vai salvar o objeto
		aApi.enviarApi("",1,_this.toJson())
		.success(function(aResp){
			if(aResp.error){
				alertaAtencao(aResp.error.message);
				return;
			}
			alertaSuccess("Salvo com sucesso!");
		})
		.error(function(aResp){
			alertaAtencao(aResp);
		})
	};
				
	this.toJson = function(){
		var _obj = {};
		_obj.id = _this.id;
		_obj.colaboradorId = _this.colaboradorId;
		_obj.habilidadeId = _this.habilidadeId;
		_obj.observacao = _this.observacao;
		return _obj;			
	};
	
	(function(){
		_this.id = (aId === undefined)?_this.id:aId;
		_this.colaboradorId = (aColaboradorId === undefined)?_this.colaboradorId:aColaboradorId;
		_this.habilidadeId = (aHabilidadeId === undefined)?_this.habilidadeId:aHabilidadeId;
		_this.observacao = (aObservacao === undefined)?_this.observacao:aObservacao;
	})();
				
}